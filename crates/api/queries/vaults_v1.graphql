query GetVaultsV1(
  $first: Int
  $skip: Int
  $where: VaultFilters
  $orderBy: VaultOrderBy
  $orderDirection: OrderDirection
) {
  vaults(first: $first, skip: $skip, where: $where, orderBy: $orderBy, orderDirection: $orderDirection) {
    items {
      id
      address
      name
      symbol
      listed
      featured
      whitelisted
      chain {
        id
        network
      }
      asset {
        address
        symbol
        decimals
        name
        priceUsd
      }
      state {
        totalAssets
        totalAssetsUsd
        totalSupply
        apy
        netApy
        sharePrice
        fee
        timelock
        curator
        owner
        guardian
        allocation {
          market {
            uniqueKey
            lltv
            loanAsset {
              address
              symbol
            }
            collateralAsset {
              address
              symbol
            }
            state {
              supplyAssets
              borrowAssets
              supplyShares
              borrowShares
              timestamp
              fee
              rateAtTarget
              price
            }
          }
          supplyAssets
          supplyAssetsUsd
          supplyCap
          enabled
          supplyQueueIndex
          withdrawQueueIndex
        }
      }
      allocators {
        address
      }
      warnings {
        type
        level
      }
    }
    pageInfo {
      count
      countTotal
    }
  }
}

query GetVaultV1ByAddress($address: String!, $chainId: Int!) {
  vaultByAddress(address: $address, chainId: $chainId) {
    id
    address
    name
    symbol
    listed
    featured
    whitelisted
    chain {
      id
      network
    }
    asset {
      address
      symbol
      decimals
      name
      priceUsd
    }
    state {
      totalAssets
      totalAssetsUsd
      totalSupply
      apy
      netApy
      sharePrice
      fee
      timelock
      curator
      owner
      guardian
      allocation {
        market {
          uniqueKey
          lltv
          loanAsset {
            address
            symbol
          }
          collateralAsset {
            address
            symbol
          }
          state {
            supplyAssets
            borrowAssets
            supplyShares
            borrowShares
            timestamp
            fee
            rateAtTarget
            price
          }
        }
        supplyAssets
        supplyAssetsUsd
        supplyCap
        enabled
        supplyQueueIndex
        withdrawQueueIndex
      }
    }
    allocators {
      address
    }
    warnings {
      type
      level
    }
  }
}
